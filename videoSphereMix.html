<!DOCTYPE html>
<html>

<head>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <!--<script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>-->

    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
</head>
<script>
    // here the 'vidHandler' component
    let v1Playing = false;
    let v2Playing = false;
    let ex = "nada";
    AFRAME.registerComponent("clickhandler", {
        init: function () {
            // adding click listners to video elements
            this.el.addEventListener("click", () => {
                var videoID = this.el.id;
                var v = document.querySelector(`#${videoID}`);
                v.crossOrigin = 'anonymous';

                if (v.attributes.videoplaying.value == "true") {
                    v.pause();
                    v.attributes.videoplaying.value = "false";
                }
                else {
                    v.play();
                    v.attributes.videoplaying.value = "true";
                }

            });
        }
    });

</script>

<body style="margin: 0; overflow: hidden;">
    <a-scene cursor="rayOrigin: mouse; fuse: true; fuseTimeout: 0;" raycaster="objects: [clickhandler];"
        vr-mode-ui="enabled: false" embedded arjs="sourceType: webcam; debugUIEnabled: false;">
        <a-camera gps-camera rotation-reader> </a-camera>
        <a-assets>
            <video id="webcam" playsinline crossorigin="anonymous"></video>
            <texturevideo id="nana-L" autoplay loop="true" src="./assets/nana-tayna-e-mini-R.webm"
                crossorigin="anonymous">
            </texturevideo>
            <texturevideo id="nana-R" autoplay loop="true" src="./assets/nana-tayna-e-mini-R.webm"
                crossorigin="anonymous">
            </texturevideo>
        </a-assets>

        <!-- floor -->
        <a-plane src="#clock" position="0 0 0" rotation="-90 0 0" width=".3" height=".3"></a-plane>


        <!-- Box nana Left -->
        <a-box src="#nana-L" position="0  2.5 2" rotation="0 0 0" width=".3" height=".6"></a-box>
        <a-box src="#nana-L" position="2  2.5 0" rotation="0 90 0" width=".3" height=".6"></a-box>
        <a-box src="#nana-L" position="-2  2.5 0" rotation="0 90 0" width=".3" height=".6"></a-box>
        <a-box src="#nana-L" position="0  25 0" rotation="90 0 0" width=".3" height=".6"></a-box>
        <a-box src="#nana-L" position="0  2.5 -2" rotation="0 0 0" width=".3" height=".6"></a-box>
        <!-- Box nana Right -->
        <a-box src="#nana-R" position="0  2.5 2" rotation="0 0 0" width=".3" height=".6"></a-box>
        <a-box src="#nana-R" position="2  2.5 0" rotation="0 90 0" width=".3" height=".6"></a-box>
        <a-box src="#nana-R" position="-2  2.5 0" rotation="0 90 0" width=".3" height=".6"></a-box>
        <a-box src="#nana-R" position="0  25 0" rotation="90 0 0" width=".3" height=".6"></a-box>
        <a-box src="#nana-R" position="0  2.5 -2" rotation="0 0 0" width=".3" height=".6"></a-box>

    </a-scene>
</body>

</html>